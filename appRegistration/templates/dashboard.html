{% extends "base.html" %}
{% block message %}
    {% if messages %}
        <div class="alert alert-warning alert-dismissible fade in" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
                    aria-hidden="true">Ã—</span>
            </button>
            <ul class="messages">
                {% for message in messages %}
                    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
{% endblock %}

{% block content %}
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Today's Stats </h2>
                <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>
                    <li><a class="close-link"><i class="fa fa-close"></i></a>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <div class="row tile_count"
                     style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc">
                    <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                        <span class="count_top"><i class="fa fa-user"></i> Active Staff Member</span>
                        <div class="count">{{ totalActiveStaff }}</div>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                        <span class="count_top"><i class="fa fa-clock-o"></i> New Members today</span>
                        <div class="count">{{ today_newMembers }}</div>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                        <span class="count_top"><i class="fa fa-male"></i> Males</span>
                        <div class="count green">{{ today_maleCount }}</div>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                        <span class="count_top"><i class="fa fa-female"></i> Females</span>
                        <div class="count">{{ today_femaleCount }}</div>
                    </div>
                    <div class="col-md-4 col-sm-8 col-xs-12 tile_stats_count">
                        <span class="count_top"><i class="fa fa-user"></i> Today's Collections </span>
                        <div class="count">{{ todaysCollection }}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Membership expired (in last 30 days) </h2>
                <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>

                    <li><a class="close-link"><i class="fa fa-close"></i></a>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="x_content card-box table-responsive">
                <table id="datatable-keytable" class="table table-striped table-bordered">
                    <thead>
                    <tr>
                        <th>Member Name</th>
                        <th>Member Contact Number</th>
                        <th>Member Email ID</th>
                        <th>Member Plan</th>
                        <th>Member Plan Activation Date</th>
                        <th>Member Plan Expiry Date</th>
                    </tr>
                    </thead>

                    {% for member in expired_as_dict %}
                        <tbody>
                        <tr>
                            <td>{{ member.memberNames }}</td>
                            <td>{{ member.memberContactNumber }}</td>
                            <td>{{ member.memberEmail }}</td>
                            <td>{{ member.memberPlan }}</td>
                            <td>{{ member.memberPlanActivationDate }}</td>
                            <td>{{ member.memberPlandExpiryDate }}</td>


                        </tr>

                        </tbody>
                    {% endfor %}
                </table>
            </div>
        </div>
    </div>

    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>General Stats </h2>
                <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>

                    <li><a class="close-link"><i class="fa fa-close"></i></a>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <div class="row tile_count"
                     style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc">
                    <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                        <span class="count_top"><i class="fa fa-user"></i> Total No. Of Members</span>
                        <div class="count">{{ totalNumberOfMembers }}</div>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                        <span class="count_top"><i class="fa fa-user"></i> Total Active Members</span>
                        <div class="count green">{{ totalActiveMembers }}</div>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                        <span class="count_top"><i class="fa fa-clock-o"></i> New Members (last 30 days)</span>
                        <div class="count">{{ newMembers }}</div>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                        <span class="count_top"><i class="fa fa-male"></i> Total Males</span>
                        <div class="count">{{ maleCount }}</div>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                        <span class="count_top"><i class="fa fa-female"></i> Total Females</span>
                        <div class="count">{{ femaleCount }}</div>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                        <span class="count_top"><i class="fa fa-user"></i> Total Collections (last 30 days)</span>
                        <div class="count">{{ totalCollection }}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Unpaid Members </h2>
                <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>

                    <li><a class="close-link"><i class="fa fa-close"></i></a>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <div class="row tile_count"
                     style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc">
                    <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                        <span class="count_top"><i class="fa fa-user"></i>Members</span>
                       <a href="/unpaid"><div class="count">{{ totalNumberOfUnpaidMembers }}</div></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

